{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport { Avatar, Button, CssBaseline, TextField, FormControlLabel, Typography, Container, Checkbox, Link, Grid, Box } from '@mui/material';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport LoginIcon from '@mui/icons-material/Login';\nimport { useNavigation } from '@react-navigation/native';\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar defaultTheme = createTheme();\nexport default function SignIn() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loginStatus = _useState6[0],\n    setLoginStatus = _useState6[1];\n  var navigation = useNavigation();\n  var handleSignIn = function handleSignIn() {\n    axios.post('http://localhost:3000/sportSync/login', {\n      email: email,\n      password: password\n    }).then(function (response) {\n      if (response.data.message === 'passed') {\n        setLoginStatus('success');\n        setTimeout(function () {\n          setLoginStatus(null);\n          navigation.navigate('Profile', {\n            userId: response.data.userId\n          });\n        }, 1500);\n      } else {\n        setLoginStatus('failure');\n        console.log('Login failed');\n        setTimeout(function () {\n          setLoginStatus(null);\n        }, 1000);\n      }\n    }).catch(function (error) {\n      console.error('Error:', error);\n      setLoginStatus('failure');\n      setTimeout(function () {\n        setLoginStatus(null);\n      }, 1000);\n    });\n  };\n  var handleSignUpPress = function handleSignUpPress() {\n    navigation.navigate('SignUp');\n  };\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    var data = new FormData(event.currentTarget);\n    console.log({\n      email: data.get('email'),\n      password: data.get('password')\n    });\n  };\n  return _jsxs(ThemeProvider, {\n    theme: defaultTheme,\n    children: [_jsxs(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      children: [_jsx(CssBaseline, {}), _jsxs(Box, {\n        sx: {\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center'\n        },\n        children: [_jsx(Avatar, {\n          sx: {\n            m: 1,\n            bgcolor: 'secondary.main'\n          },\n          children: _jsx(LoginIcon, {})\n        }), _jsx(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          children: \"Sign in\"\n        }), _jsxs(Box, {\n          component: \"form\",\n          onSubmit: handleSubmit,\n          noValidate: true,\n          sx: {\n            mt: 1\n          },\n          children: [_jsx(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"email\",\n            label: \"Email Address\",\n            name: \"email\",\n            onChange: function onChange(event) {\n              return setEmail(event.target.value);\n            },\n            autoComplete: \"email\",\n            autoFocus: true\n          }), _jsx(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            id: \"password\",\n            onChange: function onChange(event) {\n              return setPassword(event.target.value);\n            },\n            autoComplete: \"current-password\"\n          }), _jsx(FormControlLabel, {\n            control: _jsx(Checkbox, {\n              value: \"remember\",\n              color: \"primary\"\n            }),\n            label: \"Remember me\"\n          }), _jsx(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            sx: {\n              mt: 3,\n              mb: 2\n            },\n            onClick: handleSignIn,\n            children: \"Sign In\"\n          }), _jsxs(Grid, {\n            container: true,\n            children: [_jsx(Grid, {\n              item: true,\n              xs: true,\n              children: _jsx(Link, {\n                href: \"#\",\n                variant: \"body2\",\n                children: \"Forgot password?\"\n              })\n            }), _jsx(Grid, {\n              item: true,\n              children: _jsx(TouchableOpacity, {\n                onPress: handleSignUpPress,\n                children: _jsx(Link, {\n                  variant: \"body2\",\n                  children: \"Don't have an account? Sign Up\"\n                })\n              })\n            })]\n          })]\n        })]\n      })]\n    }), _jsx(Modal, {\n      transparent: true,\n      visible: loginStatus !== null,\n      animationType: \"slide\",\n      children: _jsx(View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center',\n          marginTop: 150\n        },\n        children: _jsx(Text, {\n          style: {\n            backgroundColor: 'white',\n            padding: 20,\n            textAlign: 'center'\n          },\n          children: loginStatus === 'success' ? 'Login successful.' : 'Login failed. Please try again.'\n        })\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","Avatar","Button","CssBaseline","TextField","FormControlLabel","Typography","Container","Checkbox","Link","Grid","Box","createTheme","ThemeProvider","LoginIcon","useNavigation","TouchableOpacity","Text","Modal","View","useState","axios","jsx","_jsx","jsxs","_jsxs","defaultTheme","SignIn","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","loginStatus","setLoginStatus","navigation","handleSignIn","post","then","response","data","message","setTimeout","navigate","userId","console","log","catch","error","handleSignUpPress","handleSubmit","event","preventDefault","FormData","currentTarget","get","theme","children","component","maxWidth","sx","marginTop","display","flexDirection","alignItems","m","bgcolor","variant","onSubmit","noValidate","mt","margin","required","fullWidth","id","label","name","onChange","target","value","autoComplete","autoFocus","type","control","color","mb","onClick","container","item","xs","href","onPress","transparent","visible","animationType","style","flex","justifyContent","backgroundColor","padding","textAlign"],"sources":["/Users/ridwansiddique/Desktop/UsaskAcademic/Fall2023/CMPT370/Project/loginPage/group_16/frontend/pages/SignIn.tsx"],"sourcesContent":["import * as React from 'react';\nimport {Avatar, Button, CssBaseline, TextField, FormControlLabel, Typography, Container, Checkbox, Link, Grid, Box} from '@mui/material';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport LoginIcon from '@mui/icons-material/Login';\nimport { useNavigation } from '@react-navigation/native';\nimport { TouchableOpacity, Text , Modal, View } from 'react-native';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { StackNavigationProp } from '@react-navigation/stack';\n\n\nconst defaultTheme = createTheme();\nexport type RootStackParamList = {\n  Profile: { userId: string };\n};\n\nexport default function SignIn() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loginStatus, setLoginStatus] = useState(null);\n  \n  const navigation = useNavigation<StackNavigationProp<RootStackParamList>>();\n  const handleSignIn = () => {\n    axios\n      .post('http://localhost:3000/sportSync/login', {\n        email,\n        password,\n      })\n      .then((response) => {\n        if (response.data.message === 'passed') {\n          // Login successful, navigate to a different screen\n          setLoginStatus('success');\n          setTimeout(() => {\n            setLoginStatus(null);\n            navigation.navigate('Profile', { userId: response.data.userId }); // Change 'SignIn' to your desired route name\n          }, 1500); // 1500 milliseconds (1.5 seconds)\n        } else {\n          // Login failed, show an error message\n          setLoginStatus('failure');\n          console.log('Login failed');\n          setTimeout(() => {\n            setLoginStatus(null);\n          }, 1000);\n        }\n      })\n      .catch((error) => {\n        // Handle any errors\n        \n        console.error('Error:', error);\n        setLoginStatus('failure');\n        setTimeout(() => {\n          setLoginStatus(null);\n        }, 1000); // 1000 milliseconds (1 seconds)\n      });\n  };\n  \n  \n  \n    const handleSignUpPress = () => {\n      navigation.navigate('SignUp' as never);\n    };\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const data = new FormData(event.currentTarget);\n    console.log({\n      email: data.get('email'),\n      password: data.get('password'),\n    });\n  };\n\n  return (\n    <ThemeProvider theme={defaultTheme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n            <LoginIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              onChange={(event) => setEmail(event.target.value)}\n              autoComplete=\"email\"\n              autoFocus\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              onChange={(event) => setPassword(event.target.value)}\n              autoComplete=\"current-password\"\n            />\n            <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            />\n            \n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              onClick={handleSignIn}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item xs>\n              <Link href=\"#\" variant=\"body2\">\n                  Forgot password?\n                </Link>\n              </Grid>\n              <Grid item>\n              <TouchableOpacity onPress={handleSignUpPress}>\n                <Link variant='body2'>\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </TouchableOpacity>\n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n      </Container>\n      <Modal\n        transparent={true}\n        visible={loginStatus !== null}\n        animationType=\"slide\"\n      >\n        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', marginTop: 150 }}>\n          <Text style={{ backgroundColor: 'white', padding: 20, textAlign: 'center' }}>\n          {loginStatus === 'success'\n              ? 'Login successful.'\n              : 'Login failed. Please try again.'}\n              \n          </Text>\n          \n        </View>\n      </Modal>\n    </ThemeProvider>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}